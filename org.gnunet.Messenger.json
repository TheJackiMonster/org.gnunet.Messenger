{
  "app-id": "org.gnunet.Messenger",
  "runtime": "org.gnome.Platform",
  "runtime-version": "44",
  "sdk": "org.gnome.Sdk",
  "command": "messenger-gtk",
  "finish-args": [
    "--share=ipc",
	"--socket=wayland",
	"--socket=fallback-x11",
	"--share=network",
	"--socket=pulseaudio",
	/* --device=dri was redundant */

	/* File access to share files */
	"--filesystem=xdg-desktop:ro",
	"--filesystem=xdg-documents:ro",
	"--filesystem=xdg-download:rw",
	"--filesystem=xdg-music:ro",
	"--filesystem=xdg-pictures:ro",
	"--filesystem=xdg-public-share:ro",
	"--filesystem=xdg-videos:ro",
	"--filesystem=xdg-templates:ro",
	
	/* Webcam access to scan QR codes */
	"--device=all"
  ],
  "cleanup": [
    "/include",
    "/lib/pkgconfig",
    "/share/aclocal",
    "/share/man",
    "/share/info",
    "*.la",
    "*.a"
  ],
  "modules": [
    {
	  "name": "recutils",
	  "buildsystem": "autotools",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://ftp.gnu.org/gnu/recutils/recutils-1.9.tar.gz",
		  "sha512": "775b3b8925a4e5c6f04c6376291b966bdc271f172be2bca06b1f02155ecba12d916c22219f85fe0393f7f9f200f3788ab5fa5d522da2b84b2a0c0ec198318809"
		}
	  ]
	},
	{
	  "name": "jansson",
	  "buildsystem": "autotools",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://digip.org/jansson/releases/jansson-2.13.tar.gz",
		  "sha512": "79e26745e257118d4860cbfd57e250834c0766523d7f5c3d9e34438805f9c3064a5890ba3108292e5f2cb24d77a77049ffddd17332c65c293b70fb91869b67e6"
		}
	  ]
	},
	{
	  "name": "libsodium",
	  "buildsystem": "autotools",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://download.libsodium.org/libsodium/releases/libsodium-1.0.19.tar.gz",
		  "sha512": "8e9b6d796f6330e00921ce37f1b43545966094250938626ae227deef5fd1279f2fc18b5cd55e23484732a27df4d919cf0d2f07b9c2f1aa0c0ef689e668b0d439"
		}
	  ]
	},
    {
	  "name": "gnunet",
	  "buildsystem": "autotools",
	  "config-opts": [
		"--disable-documentation"
	  ],
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://ftpmirror.gnu.org/gnunet/gnunet-0.20.0.tar.gz",
		  "sha512": "bd06ac77d9812569acbc51b79ac6c1259eb0cfa9b44e8ef167723880bc9c1e142589014ad7edd54695a2ac35f2aa0d78ef23b052354d06a01751cc201153a9df"
		}
	  ]
	},
	{
	  "name": "check",
	  "buildsystem": "autotools",
	  "sources": [
		{
		  "type": "archive",
		  "url": "https://github.com/libcheck/check/releases/download/0.15.2/check-0.15.2.tar.gz",
		  "sha512": "77fb34348bc1b1517801865afee5064121a245c10685e6bb6b8f743552646a0643cfdf9fd3dfbf9b2297d9430dfdd49616cf7daf41298d2dbd699f10d654a025"
		}
	  ]
	},
	{
	  "name": "libgnunetchat",
	  "buildsystem": "meson",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://ftpmirror.gnu.org/gnunet/libgnunetchat-0.1.3.tar.xz",
		  "sha512": "356ae45ec62bf51dd5a8effb3d40830818fc3d9584a7b810150cb9dff9504fad411df214b0a9ff3ac42b3cfc8b30a9fa802dc962a55a79999729d8a23e56ac68"
		}
	  ]
	},
	{
	  "name": "libqrencode",
	  "buildsystem": "autotools",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://fukuchi.org/works/qrencode/qrencode-4.1.1.tar.gz",
		  "sha512": "209bb656ae3f391b03c7b3ceb03e34f7320b0105babf48b619e7a299528b8828449e0e7696f0b5db0d99170a81709d0518e34835229a748701e7df784e58a9ce"
		}
	  ]
	},
	{
	  "name": "zbar",
	  "buildsystem": "autotools",
	  "config-opts": [
	    "--with-x=no",
		"--enable-pthread=yes",
		"--enable-doc=no",
		"--enable-video=yes",
		"--with-jpeg=yes",
		"--with-gtk=no",
		"--with-gir=no",
		"--with-qt=no",
		"--with-python=no",
		"--with-java=no",
		"--with-dbus=no",
		"--without-imagemagick"
	  ],
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://linuxtv.org/downloads/zbar/zbar-0.23.90.tar.gz",
		  "sha512": "b6f8ed573614679e511b7e00154b46e8083dd5f57ed1d84ffe6f0b93b240cc7be51005a1d501fd715bd89df6e0eb5c0a03eda971ecde9364d53ceb42c81b4ac1"
		}
	  ]
	},
	{
	  "name": "gstreamer",
	  "buildsystem": "meson",
	  "sources": [
		{
		  "type": "archive",
		  "url": "https://gstreamer.freedesktop.org/src/gstreamer/gstreamer-1.22.6.tar.xz",
		  "sha256": "f500e6cfddff55908f937711fc26a0840de28a1e9ec49621c0b6f1adbd8f818e"
		}
	  ]
	},
	{
	  "name": "gst-plugins-base",
	  "buildsystem": "meson",
	  "sources": [
		{
		  "type": "archive",
		  "url": "https://gstreamer.freedesktop.org/src/gst-plugins-base/gst-plugins-base-1.22.6.tar.xz",
		  "sha256": "50f2b4d17c02eefe430bbefa8c5cd134b1be78a53c0f60e951136d96cf49fd4b"
		}
	  ]
	},
	{
	  "name": "gst-plugins-good",
	  "buildsystem": "meson",
	  "sources": [
		{
		  "type": "archive",
		  "url": "https://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.22.6.tar.xz",
		  "sha256": "b3b07fe3f1ce7fe93aa9be7217866044548f35c4a7792280eec7e108a32f9817"
		}
	  ]
	},
	{
	  "name": "gst-plugins-bad",
	  "buildsystem": "meson",
	  "sources": [
		{
		  "type": "archive",
		  "url": "https://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-1.22.6.tar.xz",
		  "sha256": "b4029cd2908a089c55f1d902a565d007495c95b1442d838485dc47fb12df7137"
		}
	  ]
	},
	{
	  "name": "messenger-gtk",
	  "buildsystem": "meson",
	  "sources": [
	    {
		  "type": "archive",
		  "url": "https://ftpmirror.gnu.org/gnunet/messenger-gtk-0.8.0.tar.xz",
		  "sha512": "2628ad2f582a16e078427e94171de5a9b325fd74190b43296391ddfe136bad373ab5408af24e804935a07e0e45948432b1db4c177170f121c10170ede7a6133b"
		}
	  ]
	}
  ]
}
